INCLUDE_DIR = include
LIBRARY_DIR = lib
EXTERNALS_BASEDIR = ../externals

TARGET = FreeImage glm

FREE_IMAGE_LOCATION = $(EXTERNALS_BASEDIR)/FreeImage
FREE_IMAGE_HEADERS = FreeImagePlus.h FreeImage.h
FREE_IMAGE_MAKEFILE = Makefile
FREE_IMAGE_LIBRARY = libfreeimage.a

FreeImage: $(FREE_IMAGE_HEADERS) $(FREE_IMAGE_LIBRARY)
	cp $(addprefix $(FREE_IMAGE_LOCATION)/Dist/, FreeImage.h) $(INCLUDE_DIR)/
	cp $(addprefix $(FREE_IMAGE_LOCATION)/Dist/, $(FREE_IMAGE_LIBRARY)) $(LIBRARY_DIR)/

$(FREE_IMAGE_HEADERS):
	make -C $(FREE_IMAGE_LOCATION) -f $(FREE_IMAGE_MAKEFILE)

$(FREE_IMAGE_LIBRARY):
	make -C $(FREE_IMAGE_LOCATION) -f $(FREE_IMAGE_MAKEFILE)

.PHONY: FreeImage $(FREE_IMAGE_HEADERS) $(FREE_IMAGE_LIBRARY)


clean:
	make -C $(FREE_IMAGE_LOCATION) -f $(FREE_IMAGE_MAKEFILE) $@

.PHONY: clean